// Foundation by ZURB
// foundation.zurb.com
// Licensed under MIT Open Source

/// Defualt background color.
/// @type Color
$callout-background: #fff !default;

/// Default fade value for callout backgrounds.
/// @type Number
$callout-background-fade: 74% !default;

/// Defualt border style for callouts.
/// @type List
$callout-border: 1px solid scale-color($callout-background, $lightness: -15%) !default;

/// Default darken value for callout borders.
/// @type Number
$callout-border-darken: -11% !default;

/// Default bottom margin for callouts.
/// @type Number
$callout-margin: 0 0 1rem 0 !default;

/// Default inner padding for callouts.
/// @type Number
$callout-padding: 1rem !default;

/// Default font color for callouts.
/// @type Color
$callout-font-color: $body-font-color !default;

/// Default font color for callouts, if the callout has a dark background.
/// @type Color
$callout-font-color-alt: $body-background !default;

/// Adds basic styles for a callout, including padding and margin.
/// @param {Number} $padding [$callout-padding] - Padding inside the callout.
/// @param {Number} $margin [$callout-margin] - Margin around the callout.
@mixin callout-layout(
  $padding: $callout-padding,
  $margin: $callout-margin
  ) {
  margin: $callout-margin;
  padding: $padding;
  position: relative;

  // Respect the padding, fool.
  > :first-child { margin-top: 0; }
  > :last-child { margin-bottom: 0; }
}

/// Adds styles for callouts.
/// @param {Color} $background [$callout-background] - Background color for the callout.
/// @param {List} $border [$callout-border] - Border around the callout.
/// @param {Color} $link-color [false] - Color for links inside the callout. Set to `false` to disable this.
@mixin callout-style(
  $background: $callout-background, 
  $border: $callout-border,
  $link-color: false
) {
  $background-lightness: lightness($background);
  $color: foreground($background, $callout-font-color, $callout-font-color-alt);

  border: $border;   
  background: $background;
  color: $color;

  @if $link-color {
    a {
      color: $link-color;

      &:hover {
        color: darken($link-color, 10%);
      }
    }
  }
}

@mixin callout(
  $padding: $callout-padding,
  $margin: $callout-margin,
  $background: $callout-background, 
  $border: $callout-border
) {
  @include callout-layout($padding, $margin);
  @include callout-style($background, $border);
}

@mixin foundation-callout {
  .callout { 
    @include callout-layout;
    @include callout-style;

    @each $name, $color in $foundation-colors {
      &.#{$name} {
        $background: scale-color($color, $lightness: $callout-background-fade);
        $border: 1px solid scale-color($color, $lightness: $callout-border-darken);
        $link-color: scale-color($color, $lightness: -10%);

        @include callout-style(
          $background: $background,
          $border: $border,
          $link-color: $link-color
        );
      }
    }
  }
}
