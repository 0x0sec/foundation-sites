@import "global";

/// Default distance of the tooltip from the span.
/// @type Number
$tooltip-distance: 1.3rem;

/// Default margin of the tooltip body from the span. This is used for spacing the pip and body.
/// @type Number
$tooltip-body-margin: 1.3rem;

/// Default distance of the tooltip body. This is relative to just the body. If you want to move the entire tooltip, use $tooltip-distance.
/// @type Number
$tooltip-body-distance: calc(100% + #{$tooltip-distance});

/// Default color of the tooltip background.
/// @type Color
$tooltip-background-color: $black;

/// Default padding of the tooltip background.
/// @type Number
$tooltip-padding: 0.75rem;

/// Default font size of the tooltip text. By default, we recommend a smaller font size than the body copy.
/// @type Number
$tooltip-font-size: 0.75rem;

/// Default minimum width for tooltips.
/// @type Number
$tooltip-min-width: 10rem;

/// Default pip width for tooltips.
/// @type Number
$tooltip-pip-width: 0.75rem;

/// Default pip offset for tooltips. This controls how far the pip is indented from the left edge of the tooltip.
/// @type Number
$tooltip-pip-offset: 1.25rem;


%has-tip {
  border-bottom: dotted 1px #ccc;
  font-weight: bold;
  position: relative;
  display: inline-block;

  &:hover {
    cursor: help;
  }

  &:before, &:after {
    position: absolute;
    top: 0;
    z-index: 10;
  }

  &:before {
    @include css-triangle($tooltip-pip-width, $tooltip-background-color, up);
    display: none;
    top: $tooltip-distance;
    left: $tooltip-pip-offset;
  } 

  &:after {
    background-color: $tooltip-background-color;
    color: $white;
    content: attr(title);
    font-size: $tooltip-font-size;
    margin-top: $tooltip-body-margin;
    padding: $tooltip-padding;
    top: $tooltip-distance;
    width: auto;
    min-width: $tooltip-min-width;
  }

  &.radius {
    &:after {
      border-radius: $global-radius;
    }
  }
}

%tip-top {
  &:before {
   @include css-triangle($tooltip-pip-width, $tooltip-background-color, down);
   top: -$tooltip-distance;
 }
 
  &:after {
    bottom: $tooltip-distance;
    top: auto; 
    margin-bottom: $tooltip-body-margin;
  }
}

%tip-left {
  &:before {
    @include css-triangle($tooltip-pip-width, $tooltip-background-color, right);
    @include v-align-middle;
    left: -$tooltip-distance;
  }

  &:after {
    @include v-align-middle;
    bottom: auto;
    left: auto;
    right: $tooltip-body-distance; 
  }
}

%tip-right {
  &:before {
    @include css-triangle($tooltip-pip-width, $tooltip-background-color, left);
    @include v-align-middle;
    left: auto;
    right: -$tooltip-distance;
  }

  &:after {
    @include v-align-middle;
    bottom: auto;
    left: $tooltip-body-distance;
    right: auto; 
  }
}

//makes sure the hover display property doesn't get overridden
%has-tip {
  &:before, &:after {
    display: none;
  }

  &:hover:before, &:hover:after,
  &:focus:before, &:focus:after{
    display: block;
  }
}

.has-tip {
  @extend %has-tip;
}

.tip-top {
  @extend %tip-top;
}

.tip-left{
  @extend %tip-left;
}

.tip-right{
  @extend %tip-right;
}