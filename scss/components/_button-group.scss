// Foundation by ZURB
// foundation.zurb.com
// Licensed under MIT Open Source

// Sets the margin for the right side by default, and the left margin if right-to-left direction is used
$button-bar-margin-opposite: rem-calc(10) !default;
$button-group-border-width: 1px !default;

$buttongroup-margin: 0 1rem 1rem 0;
$buttongroup-border: 1px solid $body-background;
$buttongroup-child-selector: '.button';
$buttongroup-expand-max: 6;

//
// Button Group Mixins
//

@mixin button-group(
  $child-selector: $buttongroup-child-selector
) {
  @include clearfix;

  margin: $buttongroup-margin;

  #{$child-selector} {
    float: left;
    margin: 0;

    &:not(:last-child) {
      border-right: $buttongroup-border;
    }
  }
}

@mixin button-group-size(
  $size: medium
) {
  $size: $button-font-size * map-get($button-sizes, $size);
  font-size: $size;
}

@mixin button-group-expand(
  $count: auto,
  $selector: $buttongroup-child-selector
) {
  margin-right: 0;

  #{$selector} {
    @if $count == auto {
      @for $i from 2 through $buttongroup-expand-max {
        &:nth-last-child(#{$i}):first-child,
        &:nth-last-child(#{$i}):first-child ~ #{$selector} {
          width: percentage(1 / $i);
        }
      }
    }
    @else if type-of($count) == 'number' {
      width: percentage(1 / $count);
    }
  }
}

.button-group {
  @include button-group;

  &.expand { @include button-group-expand; }

  &.tiny  { @include button-group-size(tiny); }
  &.small { @include button-group-size(small); }
  &.large { @include button-group-size(large); }

  // TODO: coloring classes
}
