////
/// @group accordion-menu
////

/// Sets accordion menu padding.
/// @type Number
$accordionmenu-padding: $global-menu-padding !default;

/// Sets accordion menu nested margin
/// @type Number
$accordionmenu-nested-margin: $global-menu-nested-margin !default; 

/// Sets accordion menu submenu padding.
/// @type Number
$accordionmenu-submenu-padding: $accordionmenu-padding !default;

/// Sets if accordion menus have the default arrow styles.
/// @type Boolean
$accordionmenu-arrows: true !default;

/// Sets accordion menu arrow color if arrow is used.
/// @type Color
$accordionmenu-arrow-color: $primary-color !default;

/// Sets accordion menu arrow size if arrow is used.
/// @type Length
$accordionmenu-arrow-size: 6px !default;

@mixin zf-accordion-menu-left-right-arrows {
  .is-accordion-submenu-parent > a {
    position: relative;

    &::after {
      @include css-triangle($accordionmenu-arrow-size, $accordionmenu-arrow-color, down);
      position: absolute;
      top: 50%;
      margin-top: -1 * ($accordionmenu-arrow-size / 2);
      #{$global-right}: 1rem;
    }
  }
  &.align-left .is-accordion-submenu-parent > a::after {
    left: auto;
    right: 1rem;
  }
  &.align-right .is-accordion-submenu-parent > a::after {
    right: auto;
    left: 1rem;
  }
}
@mixin foundation-accordion-menu {

  .accordion-menu {
    li {
      width: 100%;
    }

    a {
      padding: $accordionmenu-padding;
    }

    .nested.is-accordion-submenu {
      @include menu-nested($accordionmenu-nested-margin);
    }

    &.align-#{$global-right} {
      .nested.is-accordion-submenu {
        @include menu-nested($accordionmenu-nested-margin, right);
      }
    }
  }

  .is-accordion-submenu-parent > a {
    padding: $accordionmenu-submenu-padding;
  }

  @if $accordionmenu-arrows {
    @include zf-accordion-menu-left-right-arrows;

    .is-accordion-submenu-parent[aria-expanded='true'] > a::after {
      transform: rotate(180deg);
      transform-origin: 50% 50%;
    }
  }
}
