////
/// @group accordion-menu
////

/// Sets if accordion menus have the default arrow styles.
/// @type Boolean
$accordionmenu-arrows: true !default;

/// Sets accordion menu arrow color if arrow is used.
/// @type Color
$accordionmenu-arrow-color: $primary-color !default;

@mixin foundation-accordion-menu {
  @if $accordionmenu-arrows {
    .is-accordion-submenu-parent:not(.has-submenu-toggle) > a {
      position: relative;

      &::after {
        @include css-triangle(6px, $accordionmenu-arrow-color, down);
        position: absolute;
        top: 50%;
        margin-top: -4px;
        right: 1rem;
      }
    }

    .is-accordion-submenu-parent[aria-expanded='true'] > a::after {
      transform-origin: 50% 50%;
      transform: scaleY(-1);
    }
  }

  .submenu-toggle {
    padding: 0.7rem;
    position: absolute;
    top: 0;
    right: 0;
    height: 38px;
    border-left: 1px solid $light-gray;

    &::after {
      @include css-triangle(6px, $accordionmenu-arrow-color, down);
    }
  }

  .has-submenu-toggle {
    position: relative;
  }

  .has-submenu-toggle[aria-expanded='true'] .submenu-toggle::after {
    transform-origin: 50% 50%;
    transform: scaleY(-1);
  }
}
