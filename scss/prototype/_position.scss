// Foundation for Sites by ZURB
// foundation.zurb.com
// Licensed under MIT Open Source

////
/// @group prototype-position
////

/// Responsive breakpoints for position helpers
/// @type Boolean
$prototype-position-breakpoints: $global-prototype-breakpoints !default;

/// Map containing all the `position` classes
/// @type Map
$prototype-position-classes: (
  static, relative, absolute, fixed
) !default;

/// z-index for fixed positioning
/// @type Number
$prototype-position-z-index: 975 !default;

/// Position classes, by default coming through a map `$prototype-position-classes`
/// @param {String} $position [] Position classes
@mixin position($position) {
  position: $position;
}

/// Position Fixed on top corners
/// @param {Number} $z-index [$prototype-position-z-index] z-index for `position-fixed-top`
@mixin position-fixed-top(
  $z-index: $prototype-position-z-index
) {
  @include position(fixed);
  top: 0;
  right: 0;
  left: 0;
  z-index: $z-index;
}

/// Position Fixed on bottom corners
/// @param {Number} $z-index [$prototype-position-z-index] z-index for `position-fixed-bottom`
@mixin position-fixed-bottom(
  $z-index: $prototype-position-z-index
) {
  @include position(fixed);
  right: 0;
  bottom: 0;
  left: 0;
  z-index: $z-index;
} 

@mixin foundation-prototype-position {
  // Position: Static, Relative, Fixed, Absolute
  @each $position in $prototype-position-classes {
    .position-#{$position} {
      @include position($position);
    }
  }
  
  // Position: Fixed Top, Fixed Bottom
  .position-fixed-top {
    @include position-fixed-top;
  }
  .position-fixed-bottom {
    @include position-fixed-bottom;
  }

  @if ($prototype-position-breakpoints) {
    // Loop through Responsive Breakpoints
    @each $size in $breakpoint-classes {
      @include breakpoint($size) {
        // Position: Static, Relative, Fixed, Absolute
        @each $position in $prototype-position-classes {
          @if $size != $-zf-zero-breakpoint {
            .#{$size}-position-#{$position} {
              @include position($position);
            }
          }
        }

        // Position: Fixed Top, Fixed Bottom
        @if $size != $-zf-zero-breakpoint {
          .#{$size}-position-fixed-top {
            @include position-fixed-top;
          }

          .#{$size}-position-fixed-bottom {
            @include position-fixed-bottom;
          }
        }
      }
    }
  }
}
